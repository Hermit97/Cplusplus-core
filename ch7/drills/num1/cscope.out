cscope 15 $HOME/Documents/Cplusplus-core/ch7/drills/num1               0000004671
	@num1.cpp

10 
	~<io¡»am
>

11 
	~<veùÜ
>

12 
	~<exû±iÚ
>

13 
	~<s¡»am
>

15 
usšg
 
Çme¥aû
 
	g¡d
;

17 
	sTok’
 {

18 
	mkšd
;

19 
	mv®ue
;

20 
¡ršg
 
	mÇme
;

21 
Tok’
(
ch
è:
kšd
(ch), 
v®ue
(0) { }

22 
Tok’
(
ch
, 
v®
è:
kšd
(ch), 
v®ue
(val) { }

23 
Tok’
(
ch
, 
¡ršg
 
Çm
è:
kšd
(ch), 
Çme
(nam) { }

26 
	gEx™
 : 
ruÁime_”rÜ
 {

27 
Ex™
(): 
ruÁime_”rÜ
("Exit") {}

31 
šlše
 
	$”rÜ
(cÚ¡ 
¡ršg
& 
s
)

33 
throw
 
	`ruÁime_”rÜ
(
s
);

34 
	}
}

36 
šlše
 
	$”rÜ
(cÚ¡ 
¡ršg
& 
s
, cÚ¡ sŒšg& 
s2
)

38 
	`”rÜ
(
s
+
s2
);

39 
	}
}

41 
šlše
 
	$”rÜ
(cÚ¡ 
¡ršg
& 
s
, 
i
)

43 
o¡ršg¡»am
 
os
;

44 
os
 << 
s
 <<": " << 
i
;

45 
	`”rÜ
(
os
.
	`¡r
());

46 
	}
}

49 þas 
	cTok’_¡»am
 {

50 
boÞ
 
	mfuÎ
;

51 
Tok’
 
	mbufãr
;

52 
	mpublic
:

53 
	$Tok’_¡»am
(è:
	`fuÎ
(0), 
	$bufãr
(0) { }

55 
Tok’
 
	`g‘
();

56 
	$ung‘
(
Tok’
 
t
è{ 
bufãr
 =; 
fuÎ
 = 
Œue
; 
	}
}

58 
ignÜe
();

61 cÚ¡ 
	gËt
 = 'L';

62 cÚ¡ 
	gqu™
 = 'Q';

63 cÚ¡ 
	g´št
 = ';';

64 cÚ¡ 
	gnumb”
 = '8';

65 cÚ¡ 
	gÇme
 = 'a';

67 
Tok’
 
	gTok’_¡»am
::
	$g‘
()

69 ià(
fuÎ
è{ fuÎ = 
çl£
;  
bufãr
; }

70 
ch
;

71 
cš
 >> 
ch
;

72 
ch
) {

82  
	`Tok’
(
ch
);

94 { 
cš
.
	`ung‘
();

95 
v®
;

96 
cš
 >> 
v®
;

97  
	`Tok’
(
numb”
, 
v®
);

100 ià(
	`i§Íha
(
ch
)) {

101 
¡ršg
 
s
;

102 
s
 +ð
ch
;

103 
cš
.
	`g‘
(
ch
è&& (
	`i§Íha
(chè|| 
	`isdig™
(ch))è
s
 = ch;

104 
cš
.
	`ung‘
();

105 ià(
s
 =ð"Ët"è 
	`Tok’
(
Ët
);

106 ià(
s
 =ð"qu™"è 
	`Tok’
(
Çme
);

107  
	`Tok’
(
Çme
, 
s
);

109 
	`”rÜ
("Badoken");

111 
	}
}

113 
	gTok’_¡»am
::
	$ignÜe
(
c
)

115 ià(
fuÎ
 && 
c
 =ð
bufãr
.
kšd
) {

116 
fuÎ
 = 
çl£
;

119 
fuÎ
 = 
çl£
;

121 
ch
;

122 
cš
 >> 
ch
)

123 ià(
ch
 =ð
c
) ;

124 
	}
}

126 
	sV¬ŸbË
 {

127 
¡ršg
 
	mÇme
;

128 
	mv®ue
;

129 
V¬ŸbË
(
¡ršg
 
n
, 
v
è:
Çme
Ò), 
v®ue
(v) { }

132 
	gveùÜ
<
	gV¬ŸbË
> 
	gÇmes
;

134 
	$g‘_v®ue
(
¡ršg
 
s
)

136 
i
 = 0; i < 
Çmes
.
	`size
(); ++i)

137 ià(
Çmes
[
i
].
Çme
 =ð
s
è‚ames[i].
v®ue
;

138 
	`”rÜ
("g‘: undefšed‚am", 
s
);

139 
	}
}

141 
	$£t_v®ue
(
¡ršg
 
s
, 
d
)

143 
i
 = 0; i <ð
Çmes
.
	`size
(); ++i)

144 ià(
Çmes
[
i
].
Çme
 =ð
s
) {

145 
Çmes
[
i
].
v®ue
 = 
d
;

148 
	`”rÜ
("£t: undefšed‚am", 
s
);

149 
	}
}

151 
boÞ
 
	$is_deþ¬ed
(
¡ršg
 
s
)

153 
i
 = 0; i < 
Çmes
.
	`size
(); ++i)

154 ià(
Çmes
[
i
].
Çme
 =ð
s
è 
Œue
;

155  
çl£
;

156 
	}
}

158 
Tok’_¡»am
 
	gts
;

160 
ex´essiÚ
();

162 
	$´im¬y
()

164 
Tok’
 
t
 = 
ts
.
	`g‘
();

165 
t
.
kšd
) {

167 { 
d
 = 
	`ex´essiÚ
();

168 
t
 = 
ts
.
	`g‘
();

169 ià(
t
.
kšd
 !ð')'è
	`”rÜ
("'('ƒxpected");

172  -
	`´im¬y
();

173 
numb”
:

174  
t
.
v®ue
;

175 
Çme
:

176  
	`g‘_v®ue
(
t
.
Çme
);

178 
	`”rÜ
("primaryƒxpected");

180 
	}
}

182 
	$‹rm
()

184 
Ëá
 = 
	`´im¬y
();

185 
Œue
) {

186 
Tok’
 
t
 = 
ts
.
	`g‘
();

187 
t
.
kšd
) {

189 
Ëá
 *ð
	`´im¬y
();

192 { 
d
 = 
	`´im¬y
();

193 ià(
d
 =ð0è
	`”rÜ
("divide by zero");

194 
Ëá
 /ð
d
;

198 
ts
.
	`ung‘
(
t
);

199  
Ëá
;

202 
	}
}

204 
	$ex´essiÚ
()

206 
Ëá
 = 
	`‹rm
();

207 
Œue
) {

208 
Tok’
 
t
 = 
ts
.
	`g‘
();

209 
t
.
kšd
) {

211 
Ëá
 +ð
	`‹rm
();

214 
Ëá
 -ð
	`‹rm
();

217 
ts
.
	`ung‘
(
t
);

218  
Ëá
;

221 
	}
}

223 
	$deþ¬©iÚ
()

225 
Tok’
 
t
 = 
ts
.
	`g‘
();

226 ià(
t
.
kšd
 !ð'a'è
	`”rÜ
("nameƒxpected in declaration");

227 
¡ršg
 
Çme
 = 
t
.name;

228 ià(
	`is_deþ¬ed
(
Çme
)è
	`”rÜ
(name, " declaredwice");

229 
Tok’
 
t2
 = 
ts
.
	`g‘
();

230 ià(
t2
.
kšd
 !ð'='è
	`”rÜ
("ðmissšg iÀdeþ¬©iÚ oà", 
Çme
);

231 
d
 = 
	`ex´essiÚ
();

232 
Çmes
.
	`push_back
(
	`V¬ŸbË
(
Çme
, 
d
));

233  
d
;

234 
	}
}

236 
	$¡©em’t
()

238 
Tok’
 
t
 = 
ts
.
	`g‘
();

239 
t
.
kšd
) {

240 
Ët
:

241  
	`deþ¬©iÚ
();

243 
ts
.
	`ung‘
(
t
);

244  
	`ex´essiÚ
();

246 
	}
}

248 
	$þ—n_up_mess
()

250 
ts
.
	`ignÜe
(
´št
);

251 
	}
}

253 cÚ¡ 
¡ršg
 
	g´om±
 = "> ";

254 cÚ¡ 
¡ršg
 
	g»suÉ
 = "= ";

256 
	$ÿlcuÏ‹
()

258 
Œue
è
Œy
 {

259 
cout
 << 
´om±
;

260 
Tok’
 
t
 = 
ts
.
	`g‘
();

261 
t
.
kšd
 =ð
´št
èˆð
ts
.
	`g‘
();

262 ià(
t
.
kšd
 =ð
qu™
) ;

263 
ts
.
	`ung‘
(
t
);

264 
cout
 << 
»suÉ
 << 
	`¡©em’t
(è<< 
’dl
;

266 
	`ÿtch
 (
ruÁime_”rÜ
& 
e
) {

267 
û¼
 << 
e
.
	`wh©
(è<< 
’dl
;

268 
	`þ—n_up_mess
();

270 
	}
}

272 
	$maš
()

274 
Œy
 {

275 
	`ÿlcuÏ‹
();

277 
	}
}

278 
	$ÿtch
 (
exû±iÚ
& 
e
) {

279 
û¼
 << "exû±iÚ: " << 
e
.
	`wh©
(è<< 
’dl
;

280 
c
;

281 
cš
 >> 
c
 && c != ';');

283 
	}
}

284 
	$ÿtch
 (...) {

285 
û¼
 << "exception\n";

286 
c
;

287 
cš
 >> 
c
 && c != ';');

289 
	}
}

	@
1
.
1
/usr/include
1
9
num1.cpp
